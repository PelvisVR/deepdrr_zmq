Search.setIndex({"docnames": ["deepdrrzmq", "deepdrrzmq.devices", "deepdrrzmq.utils", "index", "modules"], "filenames": ["deepdrrzmq.rst", "deepdrrzmq.devices.rst", "deepdrrzmq.utils.rst", "index.rst", "modules.rst"], "titles": ["deepdrrzmq package", "deepdrrzmq.devices package", "deepdrrzmq.utils package", "PelvisVR Server Documentation", "PelvisVR Server"], "terms": {"devic": [0, 4], "simpledevic": [0, 4], "helper": 0, "class": [0, 1, 2], "auto": 0, "restart": [0, 4], "watchdog": 0, "managerprocess": [0, 4], "base": [0, 1, 2], "abc": 0, "check_watchdog": [0, 4], "last_watchdog_tim": [0, 4], "float": [0, 1], "none": [0, 2], "daemon": [0, 4], "fals": 0, "enabl": [0, 4], "true": 0, "0": 0, "name": [0, 2, 4], "abstract": 0, "prepar": [0, 4], "proc": [0, 4], "shutting_down": [0, 4], "sigkil": [0, 4], "signal": [0, 4], "sig": 0, "int": [0, 1], "start": [0, 4], "stop": [0, 4], "retri": 0, "bool": 0, "block": 0, "unkil": [0, 4], "watchdog_max_dt": [0, 4], "watchdog_seen": [0, 4], "nativeprocess": [0, 4], "cwd": 0, "cmdline": 0, "pythonprocess": [0, 4], "ensure_run": [0, 4], "list": 0, "not_run": 0, "str": 0, "dict": 0, "join_process": [0, 4], "timeout": 0, "launcher": [0, 4], "nativelaunch": [0, 4], "parg": 0, "sphinx": [], "quickstart": [], "wed": [], "oct": [], "26": [], "23": [], "19": [], "46": [], "2022": [], "you": [], "can": [0, 1], "adapt": [], "thi": [0, 1], "file": 0, "complet": [], "your": [], "like": [], "should": [], "least": [], "contain": 0, "root": [], "toctre": [], "direct": 1, "pa": [], "3": [], "4": [], "deepdrrzmq": [3, 4], "packag": [3, 4], "index": 3, "modul": [3, 4], "search": 3, "page": 3, "subpackag": 4, "submodul": 4, "content": 4, "basedir": 4, "deepdrrd": 4, "loggerd": 4, "logreplai": 4, "manag": 4, "patientloaderd": 4, "printd": 4, "process": 4, "time": 4, "zmqproxyd": 4, "camera_intrins": [0, 1], "device_from_camera3d": [0, 1], "pixel_s": [0, 1], "principle_rai": [0, 1], "sensor_height": [0, 1], "sensor_width": [0, 1], "source_to_detector_dist": [0, 1], "world_from_devic": [0, 1], "deepdrrserv": [0, 4], "context": [0, 2], "rep_port": 0, "pub_port": 0, "sub_port": 0, "object": [0, 2], "deepdrr": [0, 1], "server": [0, 2], "handl": 0, "request": 0, "from": [0, 1, 2], "client": 0, "send": 0, "respons": 0, "The": [0, 1, 2], "i": [0, 1, 2], "implement": 0, "singl": 0, "asyncio": 0, "task": 0, "run": 0, "forev": 0, "projector": 0, "volum": 0, "async": [0, 2], "handle_project_request": [0, 4], "pub_socket": 0, "data": 0, "project": 0, "paramet": [0, 2], "socket": [0, 2], "handle_projector_params_respons": [0, 4], "param": 0, "project_serv": [0, 4], "capnp_opt": [0, 2, 4], "option": [0, 2], "convert": [0, 2], "capnp": [0, 2], "python": [0, 2], "return": [0, 1, 2], "capnp_square_matrix": [0, 2, 4], "squar": [0, 2], "matrix": 0, "numpi": [0, 2], "arrai": [0, 2], "main": [0, 4], "40100": 0, "40101": 0, "40102": 0, "mesh_msg_to_volum": [0, 4], "meshparam": 0, "mesh": 0, "messag": [0, 2], "nifti_msg_to_volum": [0, 4], "niftiparam": 0, "patient_data_dir": 0, "nifti": 0, "directori": 0, "patient": 0, "logrecord": [0, 4], "log_root_path": 0, "kw": 0, "log": 0, "surgic": 0, "simul": 0, "close": [0, 4], "session": 0, "finish": [0, 4], "current": [0, 1], "new_sess": [0, 4], "new": 0, "stop_sess": [0, 4], "write": [0, 4], "one": 0, "logshardwrit": [0, 4], "pattern": 0, "maxcount": 0, "maxsiz": 0, "start_shard": 0, "verbos": 0, "stream": 0, "wrapper": 0, "automat": 0, "switch": 0, "when": 0, "reach": 0, "certain": 0, "size": 0, "next_stream": [0, 4], "next": 0, "If": 0, "full": 0, "logwrit": [0, 4], "fileobj": 0, "loggerserv": [0, 4], "logger_serv": [0, 4], "status_serv": [0, 4], "statu": [0, 2], "logger": 0, "pvrlog": 0, "A": [0, 2], "replai": 0, "all": 0, "print": 0, "line": 0, "each": 0, "everi": 0, "second": 0, "usag": 0, "m": 0, "manager_cleanup": [0, 4], "manager_prepar": [0, 4], "manager_thread": [0, 4], "patientloaderserv": [0, 4], "us": [0, 1, 2], "load": 0, "loader": 0, "servic": 0, "It": [0, 1], "zeromq": 0, "req": 0, "rep": 0, "handle_patient_annotation_request": [0, 4], "annot": 0, "method": 0, "call": [0, 2], "receiv": 0, "patient_anno_request": 0, "topic": [0, 2], "pars": 0, "sent": 0, "back": 0, "patient_anno_respons": 0, "publish": 0, "handle_patient_mesh_request": [0, 4], "patient_mesh_request": 0, "patient_mesh_respons": 0, "simpl": [0, 1, 2], "debug": 0, "purpos": 0, "printserv": [0, 4], "time_serv": [0, 4], "timeserv": [0, 4], "subscrib": 0, "onc": 0, "per": 0, "synchron": 0, "multiplay": 0, "zmq": [0, 2], "pub": 0, "sub": [0, 1], "proxi": 0, "forward": 0, "vice": 0, "versa": 0, "xpub": 0, "xsub": 0, "frametransform": 1, "cameraintrinsictransform": 1, "properti": 1, "get": 1, "": 1, "camera3d_from_devic": 1, "frame": 1, "pose": 1, "arg": 1, "camera3d_transform": 1, "transform": 1, "vector3d": 1, "principl": 1, "rai": 1, "pass": 1, "through": 1, "center": 1, "imag": 1, "point": 1, "sourc": 1, "toward": 1, "detector": 1, "By": 1, "default": [1, 2], "just": 1, "z": 1, "axi": 1, "overridden": 1, "unit": 1, "vector": 1, "which": [1, 2], "onli": 1, "camera": 1, "intrins": 1, "world": 1, "except": 2, "deepdrrserverexcept": 2, "code": 2, "error": 2, "status_respons": 2, "valu": 2, "set": 2, "make_respons": 2, "creat": 2, "statusrespons": 2, "given": 2, "fp": 2, "print_every_second": 2, "1": 2, "counter": 2, "no_option_convers": 2, "do": 2, "perform": 2, "ani": 2, "convers": 2, "In": 2, "particular": 2, "make": 2, "them": 2, "lowercas": 2, "chang": 2, "underscor": 2, "hyphen": 2, "librari": 2, "mai": 2, "requir": 2, "valid": 2, "variabl": 2, "eg": 2, "wandb": 2, "unwrap_typer_param": 2, "f": 2, "callabl": 2, "unwrap": 2, "typer": 2, "argument": 2, "allow": 2, "function": 2, "normal": 2, "see": 2, "http": 2, "github": 2, "com": 2, "tiangolo": 2, "issu": 2, "279": 2, "zmq_no_linger_context": 2, "zmq_poll_latest": 2, "sub_socket": 2, "max_skip": 2, "1000": 2, "poll": 2, "latest": 2, "maximum": 2, "number": 2, "skip": 2, "dictionari": 2, "map": 2}, "objects": {"": [[0, 0, 0, "-", "deepdrrzmq"]], "deepdrrzmq": [[0, 0, 0, "-", "basedir"], [0, 0, 0, "-", "deepdrrd"], [1, 0, 0, "-", "devices"], [0, 0, 0, "-", "loggerd"], [0, 0, 0, "-", "logreplay"], [0, 0, 0, "-", "manager"], [0, 0, 0, "-", "patientloaderd"], [0, 0, 0, "-", "printd"], [0, 0, 0, "-", "process"], [0, 0, 0, "-", "timed"], [2, 0, 0, "-", "utils"], [0, 0, 0, "-", "zmqproxyd"]], "deepdrrzmq.deepdrrd": [[0, 1, 1, "", "DeepDRRServer"], [0, 3, 1, "", "capnp_optional"], [0, 3, 1, "", "capnp_square_matrix"], [0, 3, 1, "", "main"], [0, 3, 1, "", "mesh_msg_to_volume"], [0, 3, 1, "", "nifti_msg_to_volume"]], "deepdrrzmq.deepdrrd.DeepDRRServer": [[0, 2, 1, "", "handle_project_request"], [0, 2, 1, "", "handle_projector_params_response"], [0, 2, 1, "", "project_server"], [0, 2, 1, "", "start"]], "deepdrrzmq.devices": [[1, 1, 1, "", "SimpleDevice"], [1, 0, 0, "-", "SimpleDevice"]], "deepdrrzmq.devices.SimpleDevice": [[1, 1, 1, "", "SimpleDevice"], [1, 4, 1, "", "camera_intrinsics"], [1, 5, 1, "", "device_from_camera3d"], [1, 4, 1, "", "pixel_size"], [1, 5, 1, "", "principle_ray"], [1, 4, 1, "", "sensor_height"], [1, 4, 1, "", "sensor_width"], [1, 4, 1, "", "source_to_detector_distance"], [1, 4, 1, "", "world_from_device"]], "deepdrrzmq.devices.SimpleDevice.SimpleDevice": [[1, 4, 1, "", "camera_intrinsics"], [1, 5, 1, "", "device_from_camera3d"], [1, 4, 1, "", "pixel_size"], [1, 5, 1, "", "principle_ray"], [1, 4, 1, "", "sensor_height"], [1, 4, 1, "", "sensor_width"], [1, 4, 1, "", "source_to_detector_distance"], [1, 4, 1, "", "world_from_device"]], "deepdrrzmq.loggerd": [[0, 1, 1, "", "LogRecorder"], [0, 1, 1, "", "LogShardWriter"], [0, 1, 1, "", "LogWriter"], [0, 1, 1, "", "LoggerServer"], [0, 3, 1, "", "main"]], "deepdrrzmq.loggerd.LogRecorder": [[0, 2, 1, "", "close"], [0, 2, 1, "", "finish"], [0, 2, 1, "", "new_session"], [0, 2, 1, "", "stop_session"], [0, 2, 1, "", "write"]], "deepdrrzmq.loggerd.LogShardWriter": [[0, 2, 1, "", "close"], [0, 2, 1, "", "finish"], [0, 2, 1, "", "next_stream"], [0, 2, 1, "", "write"]], "deepdrrzmq.loggerd.LogWriter": [[0, 2, 1, "", "close"], [0, 2, 1, "", "write"]], "deepdrrzmq.loggerd.LoggerServer": [[0, 2, 1, "", "logger_server"], [0, 2, 1, "", "start"], [0, 2, 1, "", "status_server"]], "deepdrrzmq.logreplay": [[0, 1, 1, "", "LoggerServer"], [0, 3, 1, "", "main"]], "deepdrrzmq.logreplay.LoggerServer": [[0, 2, 1, "", "logger_server"], [0, 2, 1, "", "start"]], "deepdrrzmq.manager": [[0, 3, 1, "", "main"], [0, 3, 1, "", "manager_cleanup"], [0, 3, 1, "", "manager_prepare"], [0, 3, 1, "", "manager_thread"]], "deepdrrzmq.patientloaderd": [[0, 1, 1, "", "PatientLoaderServer"], [0, 3, 1, "", "main"]], "deepdrrzmq.patientloaderd.PatientLoaderServer": [[0, 2, 1, "", "handle_patient_annotation_request"], [0, 2, 1, "", "handle_patient_mesh_request"], [0, 2, 1, "", "project_server"], [0, 2, 1, "", "start"]], "deepdrrzmq.printd": [[0, 1, 1, "", "PrintServer"], [0, 3, 1, "", "main"]], "deepdrrzmq.printd.PrintServer": [[0, 2, 1, "", "start"], [0, 2, 1, "", "time_server"]], "deepdrrzmq.process": [[0, 1, 1, "", "ManagerProcess"], [0, 1, 1, "", "NativeProcess"], [0, 1, 1, "", "PythonProcess"], [0, 3, 1, "", "ensure_running"], [0, 3, 1, "", "join_process"], [0, 3, 1, "", "launcher"], [0, 3, 1, "", "nativelauncher"]], "deepdrrzmq.process.ManagerProcess": [[0, 2, 1, "", "check_watchdog"], [0, 4, 1, "", "daemon"], [0, 4, 1, "", "enabled"], [0, 4, 1, "", "last_watchdog_time"], [0, 4, 1, "", "name"], [0, 2, 1, "", "prepare"], [0, 4, 1, "", "proc"], [0, 2, 1, "", "restart"], [0, 4, 1, "", "shutting_down"], [0, 4, 1, "", "sigkill"], [0, 2, 1, "", "signal"], [0, 2, 1, "", "start"], [0, 2, 1, "", "stop"], [0, 4, 1, "", "unkillable"], [0, 4, 1, "", "watchdog_max_dt"], [0, 4, 1, "", "watchdog_seen"]], "deepdrrzmq.process.NativeProcess": [[0, 2, 1, "", "prepare"], [0, 2, 1, "", "start"]], "deepdrrzmq.process.PythonProcess": [[0, 2, 1, "", "prepare"], [0, 2, 1, "", "start"]], "deepdrrzmq.timed": [[0, 1, 1, "", "TimeServer"], [0, 3, 1, "", "main"]], "deepdrrzmq.timed.TimeServer": [[0, 2, 1, "", "start"], [0, 2, 1, "", "time_server"]], "deepdrrzmq.utils": [[2, 0, 0, "-", "drr_util"], [2, 0, 0, "-", "server_util"], [2, 0, 0, "-", "timer_util"], [2, 0, 0, "-", "typer_util"], [2, 0, 0, "-", "zmq_util"]], "deepdrrzmq.utils.server_util": [[2, 6, 1, "", "DeepDRRServerException"], [2, 3, 1, "", "capnp_optional"], [2, 3, 1, "", "capnp_square_matrix"], [2, 3, 1, "", "make_response"]], "deepdrrzmq.utils.server_util.DeepDRRServerException": [[2, 2, 1, "", "status_response"]], "deepdrrzmq.utils.timer_util": [[2, 1, 1, "", "FPS"]], "deepdrrzmq.utils.typer_util": [[2, 3, 1, "", "no_option_conversion"], [2, 3, 1, "", "unwrap_typer_param"]], "deepdrrzmq.utils.zmq_util": [[2, 3, 1, "", "zmq_no_linger_context"], [2, 3, 1, "", "zmq_poll_latest"]], "deepdrrzmq.zmqproxyd": [[0, 3, 1, "", "main"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function", "4": "py:attribute", "5": "py:property", "6": "py:exception"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "property", "Python property"], "6": ["py", "exception", "Python exception"]}, "titleterms": {"deepdrrzmq": [0, 1, 2], "packag": [0, 1, 2], "subpackag": 0, "submodul": [0, 1, 2], "basedir": 0, "modul": [0, 1, 2], "deepdrrd": 0, "loggerd": 0, "logreplai": 0, "manag": 0, "patientloaderd": 0, "printd": 0, "process": 0, "time": 0, "zmqproxyd": 0, "content": [0, 1, 2, 3], "devic": 1, "simpledevic": 1, "welcom": [], "ci": [], "pa12": [], "": [], "document": 3, "indic": 3, "tabl": 3, "pa": [], "3": [], "4": [], "pelvisvr": [3, 4], "server": [3, 4], "util": 2, "drr_util": 2, "server_util": 2, "timer_util": 2, "typer_util": 2, "zmq_util": 2}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"PelvisVR Server Documentation": [[3, "pelvisvr-server-documentation"]], "Contents:": [[3, null]], "Indices and tables": [[3, "indices-and-tables"]], "PelvisVR Server": [[4, "pelvisvr-server"]], "deepdrrzmq package": [[0, "deepdrrzmq-package"]], "Subpackages": [[0, "subpackages"]], "Submodules": [[0, "submodules"], [1, "submodules"], [2, "submodules"]], "deepdrrzmq.basedir module": [[0, "module-deepdrrzmq.basedir"]], "deepdrrzmq.deepdrrd module": [[0, "module-deepdrrzmq.deepdrrd"]], "deepdrrzmq.loggerd module": [[0, "module-deepdrrzmq.loggerd"]], "deepdrrzmq.logreplay module": [[0, "module-deepdrrzmq.logreplay"]], "deepdrrzmq.manager module": [[0, "module-deepdrrzmq.manager"]], "deepdrrzmq.patientloaderd module": [[0, "module-deepdrrzmq.patientloaderd"]], "deepdrrzmq.printd module": [[0, "module-deepdrrzmq.printd"]], "deepdrrzmq.process module": [[0, "module-deepdrrzmq.process"]], "deepdrrzmq.timed module": [[0, "module-deepdrrzmq.timed"]], "deepdrrzmq.zmqproxyd module": [[0, "module-deepdrrzmq.zmqproxyd"]], "Module contents": [[0, "module-deepdrrzmq"], [1, "module-deepdrrzmq.devices"], [2, "module-deepdrrzmq.utils"]], "deepdrrzmq.devices package": [[1, "deepdrrzmq-devices-package"]], "deepdrrzmq.devices.SimpleDevice module": [[1, "module-deepdrrzmq.devices.SimpleDevice"]], "deepdrrzmq.utils package": [[2, "deepdrrzmq-utils-package"]], "deepdrrzmq.utils.drr_util module": [[2, "module-deepdrrzmq.utils.drr_util"]], "deepdrrzmq.utils.server_util module": [[2, "module-deepdrrzmq.utils.server_util"]], "deepdrrzmq.utils.timer_util module": [[2, "module-deepdrrzmq.utils.timer_util"]], "deepdrrzmq.utils.typer_util module": [[2, "module-deepdrrzmq.utils.typer_util"]], "deepdrrzmq.utils.zmq_util module": [[2, "module-deepdrrzmq.utils.zmq_util"]]}, "indexentries": {"deepdrrserverexception": [[2, "deepdrrzmq.utils.server_util.DeepDRRServerException"]], "fps (class in deepdrrzmq.utils.timer_util)": [[2, "deepdrrzmq.utils.timer_util.FPS"]], "capnp_optional() (in module deepdrrzmq.utils.server_util)": [[2, "deepdrrzmq.utils.server_util.capnp_optional"]], "capnp_square_matrix() (in module deepdrrzmq.utils.server_util)": [[2, "deepdrrzmq.utils.server_util.capnp_square_matrix"]], "deepdrrzmq.utils": [[2, "module-deepdrrzmq.utils"]], "deepdrrzmq.utils.drr_util": [[2, "module-deepdrrzmq.utils.drr_util"]], "deepdrrzmq.utils.server_util": [[2, "module-deepdrrzmq.utils.server_util"]], "deepdrrzmq.utils.timer_util": [[2, "module-deepdrrzmq.utils.timer_util"]], "deepdrrzmq.utils.typer_util": [[2, "module-deepdrrzmq.utils.typer_util"]], "deepdrrzmq.utils.zmq_util": [[2, "module-deepdrrzmq.utils.zmq_util"]], "make_response() (in module deepdrrzmq.utils.server_util)": [[2, "deepdrrzmq.utils.server_util.make_response"]], "module": [[2, "module-deepdrrzmq.utils"], [2, "module-deepdrrzmq.utils.drr_util"], [2, "module-deepdrrzmq.utils.server_util"], [2, "module-deepdrrzmq.utils.timer_util"], [2, "module-deepdrrzmq.utils.typer_util"], [2, "module-deepdrrzmq.utils.zmq_util"]], "no_option_conversion() (in module deepdrrzmq.utils.typer_util)": [[2, "deepdrrzmq.utils.typer_util.no_option_conversion"]], "status_response() (deepdrrzmq.utils.server_util.deepdrrserverexception method)": [[2, "deepdrrzmq.utils.server_util.DeepDRRServerException.status_response"]], "unwrap_typer_param() (in module deepdrrzmq.utils.typer_util)": [[2, "deepdrrzmq.utils.typer_util.unwrap_typer_param"]], "zmq_no_linger_context() (in module deepdrrzmq.utils.zmq_util)": [[2, "deepdrrzmq.utils.zmq_util.zmq_no_linger_context"]], "zmq_poll_latest() (in module deepdrrzmq.utils.zmq_util)": [[2, "deepdrrzmq.utils.zmq_util.zmq_poll_latest"]]}})